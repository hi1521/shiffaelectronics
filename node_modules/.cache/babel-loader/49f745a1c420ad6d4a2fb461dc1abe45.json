{"ast":null,"code":"import _classCallCheck from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/hishsmtariq/ReactJsProjects/spare_part/src/spare_parts_components/pages/login.jsx\";\nimport React, { Component } from \"react\";\n\nvar axios = require(\"axios\");\n\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCol, MDBContainer, MDBInput, MDBRow } from \"mdbreact\";\n\nvar LoginPage = /*#__PURE__*/function (_Component) {\n  _inherits(LoginPage, _Component);\n\n  var _super = _createSuper(LoginPage);\n\n  function LoginPage() {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      login: false\n    };\n\n    _this.componentWillMount = function () {\n      axios.post(\"http://localhost/spare_parts/session_checker.php\").then(function (value) {\n        if (value.data === \"no record found\") return null;else console.log(value.data[0].status);\n      });\n    };\n\n    _this.onLogin = function (val) {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      axios.post(\"http://localhost/spare_parts/signin.php\", JSON.stringify({\n        email: email\n      })).then(function (response) {\n        var status = response.data[0].pwd === password; // this.setState({email: \"\", password: \"\"});\n\n        if (status) {\n          axios.post(\"http://localhost/spare_parts/session_create.php\", {\n            email: email\n          }).then(function (value) {\n            return _this.setState({\n              login: true\n            });\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.state.login) this.props.history.push(\"/\");\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password;\n      return /*#__PURE__*/React.createElement(MDBContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        md: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MDBCard, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header pt-3 grey lighten-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(MDBRow, {\n        className: \"d-flex justify-content-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"deep-grey-text mt-3 mb-4 pb-1 mx-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 37\n        }\n      }, \"Log in\"))), /*#__PURE__*/React.createElement(MDBCardBody, {\n        className: \"mx-4 mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(MDBInput, {\n        label: \"Your email\",\n        value: email,\n        group: true,\n        type: \"text\",\n        validate: true,\n        onChange: function onChange(event) {\n          return _this2.setState({\n            email: event.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(MDBInput, {\n        label: \"Your password\",\n        value: password,\n        group: true,\n        type: \"password\",\n        validate: true,\n        containerClass: \"mb-0\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            password: event.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"font-small grey-text d-flex justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 33\n        }\n      }, \"Forgot\", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        className: \"dark-grey-text font-weight-bold ml-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 37\n        }\n      }, \"Password?\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center mb-4 mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(MDBBtn, {\n        color: \"danger\",\n        type: \"button\",\n        className: \"btn-block z-depth-2\",\n        onClick: function onClick() {\n          return _this2.onLogin(true);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 37\n        }\n      }, \"Log in\")), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"font-small grey-text d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 33\n        }\n      }, \"Don't have an account?\", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        className: \"dark-grey-text font-weight-bold ml-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 37\n        }\n      }, \"Sign up\")))))));\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nexport default LoginPage;","map":{"version":3,"sources":["/home/hishsmtariq/ReactJsProjects/spare_part/src/spare_parts_components/pages/login.jsx"],"names":["React","Component","axios","require","MDBBtn","MDBCard","MDBCardBody","MDBCol","MDBContainer","MDBInput","MDBRow","LoginPage","state","email","password","login","componentWillMount","post","then","value","data","console","log","status","onLogin","val","JSON","stringify","response","pwd","setState","props","history","push","event","target"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nconst axios = require(\"axios\");\n\nimport {MDBBtn, MDBCard, MDBCardBody, MDBCol, MDBContainer, MDBInput, MDBRow,} from \"mdbreact\";\n\nclass LoginPage extends Component {\n    state = {\n        email: \"\",\n        password: \"\",\n        login: false,\n    };\n\n\n    componentWillMount = () => {\n        axios.post(\"http://localhost/spare_parts/session_checker.php\")\n            .then(value => {\n                if (value.data === \"no record found\") return null;\n                else console.log(value.data[0].status);\n            })\n    }\n\n\n    onLogin = (val) => {\n        const {email, password} = this.state;\n        axios.post(\n            \"http://localhost/spare_parts/signin.php\",\n            JSON.stringify({\n                email: email,\n            })\n        ).then((response) => {\n            const status = response.data[0].pwd === password;\n            // this.setState({email: \"\", password: \"\"});\n            if (status) {\n                axios.post(\"http://localhost/spare_parts/session_create.php\", {\n                    email: email\n                }).then(value => this.setState({login: true}))\n            }\n        });\n    };\n\n    render() {\n        if(!this.state.login) this.props.history.push(\"/\");\n        const {email, password} = this.state;\n        return (\n            <MDBContainer>\n                <MDBRow>\n                    <MDBCol md=\"6\">\n                        <MDBCard>\n                            <div className=\"header pt-3 grey lighten-2\">\n                                <MDBRow className=\"d-flex justify-content-start\">\n                                    <h3 className=\"deep-grey-text mt-3 mb-4 pb-1 mx-5\">Log in</h3>\n                                </MDBRow>\n                            </div>\n                            <MDBCardBody className=\"mx-4 mt-4\">\n                                <MDBInput\n                                    label=\"Your email\"\n                                    value={email}\n                                    group\n                                    type=\"text\"\n                                    validate\n                                    onChange={(event) =>\n                                        this.setState({email: event.target.value})\n                                    }\n                                />\n                                <MDBInput\n                                    label=\"Your password\"\n                                    value={password}\n                                    group\n                                    type=\"password\"\n                                    validate\n                                    containerClass=\"mb-0\"\n                                    onChange={(event) =>\n                                        this.setState({password: event.target.value})\n                                    }\n                                />\n                                <p className=\"font-small grey-text d-flex justify-content-end\">\n                                    Forgot\n                                    <a href=\"#\" className=\"dark-grey-text font-weight-bold ml-1\">\n                                        Password?\n                                    </a>\n                                </p>\n                                <div className=\"text-center mb-4 mt-5\">\n                                    <MDBBtn\n                                        color=\"danger\"\n                                        type=\"button\"\n                                        className=\"btn-block z-depth-2\"\n                                        onClick={() => this.onLogin(true)}\n                                    >\n                                        Log in\n                                    </MDBBtn>\n                                </div>\n                                <p className=\"font-small grey-text d-flex justify-content-center\">\n                                    Don't have an account?\n                                    <a href=\"#\" className=\"dark-grey-text font-weight-bold ml-1\">\n                                        Sign up\n                                    </a>\n                                </p>\n                            </MDBCardBody>\n                        </MDBCard>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        );\n    }\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}