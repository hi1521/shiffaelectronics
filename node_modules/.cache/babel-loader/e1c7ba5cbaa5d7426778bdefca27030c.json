{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _regeneratorRuntime from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/hishsmtariq/ReactJsProjects/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _this = this,\n    _jsxFileName = \"/home/hishsmtariq/ReactJsProjects/spare_part/src/spare_parts_components/pages/sale.jsx\";\n\nimport React, { Component } from \"react\";\nimport lodash from \"lodash\";\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCardHeader, MDBCol, MDBContainer, MDBIcon, MDBInput, MDBRow, MDBSelect, MDBTable, MDBTableBody, MDBTableHead, MDBLink, MDBDatePicker, MDBTimePicker } from \"mdbreact\";\nimport axios from \"axios\";\nimport getCurrentDate from \"../utils/get_current_date\";\n\nvar Row = function Row(_ref) {\n  var id = _ref.id,\n      categoryComponent = _ref.categoryComponent,\n      productComponent = _ref.productComponent,\n      quantity = _ref.quantity,\n      price = _ref.price;\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, categoryComponent(id)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, productComponent(id)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, quantity(id)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, price));\n};\n\nvar SalePage = /*#__PURE__*/function (_Component) {\n  _inherits(SalePage, _Component);\n\n  var _super = _createSuper(SalePage);\n\n  function SalePage() {\n    var _this2;\n\n    _classCallCheck(this, SalePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n    _this2.notSelected = \"Chose your option\";\n\n    _this2.onEnter = function () {\n      var _this2$state = _this2.state,\n          SelectedIds = _this2$state.SelectedIds,\n          SelectedPrices = _this2$state.SelectedPrices,\n          SelectedQty = _this2$state.SelectedQty,\n          SelectedProducts = _this2$state.SelectedProducts,\n          rowCount = _this2$state.rowCount,\n          subTotal = _this2$state.subTotal,\n          discount = _this2$state.discount,\n          total = _this2$state.total,\n          customerName = _this2$state.customerName,\n          date = _this2$state.date,\n          time = _this2$state.time; //    Data Format\n      // {\n      //  sno: index\n      //  dec: Product Name,\n      //  qty: 1 (Quantity)\n      //  rate: Price\n      // }\n\n      var items = lodash.range(rowCount).map(function (index) {\n        var qty = SelectedQty[index];\n        return {\n          sno: index,\n          // Row No.\n          desc: SelectedProducts[index],\n          // Product Name\n          qty: qty,\n          // Product Quantity\n          rate: SelectedPrices[index] / qty,\n          // Product 1 Qty Price,  \"\"SelectedItems[index].price\"\" Contains the total price of the item\n          Product_id: SelectedIds[index] // Product ID\n\n        };\n      });\n      var data = {\n        subTotal: subTotal,\n        discount: discount,\n        total: total,\n        items: items,\n        itemsLength: items.length,\n        customerName: customerName,\n        date: date,\n        time: time\n      };\n      console.log(data); // axios.post(\"http://localhost/spare_parts/sales.php\", data);\n\n      _this2.props.history.push({\n        pathname: \"/invoice\",\n        data: data\n      });\n    };\n\n    _this2.state = {\n      isMounted: false,\n      customerName: \"\",\n      date: \"\",\n      time: \"\",\n      rowCount: 1,\n      Items: _this2.onEnter,\n      SelectedCategory: [_this2.notSelected],\n      SelectedProducts: [_this2.notSelected],\n      SelectedPrices: [0],\n      SelectedQty: [1],\n      SelectedIds: [\"\"],\n      subTotal: 0,\n      discount: 0,\n      total: 0,\n      categories: [// {\n        //     text: \"Category Name\",\n        //     value: \"Category Value\"\n        // },\n      ],\n      products: {// Data Format\n        // Category_Name: {\n        //     Product_Name: {\n        //         text: \"Product Name\",\n        //         value: \"Product Value\"\n        //         price: \"Product Price\"\n        //         id: Product_id,\n        //         qty: Product_Quantity,\n        //     },\n        // },\n      }\n    };\n    _this2.componentDidMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this2$state2, categories, products;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this2$state2 = _this2.state, categories = _this2$state2.categories, products = _this2$state2.products;\n              _context.next = 3;\n              return axios.post(\"http://localhost/spare_parts/show_category.php\").then(function (response) {\n                response.data.map(function (category) {\n                  var newCategory = {\n                    text: category.Category_Name,\n                    value: category.Category_Name\n                  };\n                  categories = [].concat(_toConsumableArray(categories), [newCategory]);\n                });\n              });\n\n            case 3:\n              _context.next = 5;\n              return axios.post(\"http://localhost/spare_parts/allproducts.php\").then(function (response) {\n                response.data.map(function (product) {\n                  var Product_Name = product.Product_Name,\n                      Category_Name = product.Category_Name,\n                      Product_Retail_Price = product.Product_Retail_Price,\n                      id = product.id,\n                      Product_Quantity = product.Product_Quantity;\n                  var newProduct = {};\n                  newProduct[Product_Name] = {\n                    text: Product_Name,\n                    value: Product_Name,\n                    price: parseInt(Product_Retail_Price),\n                    id: id,\n                    qty: Product_Quantity\n                  };\n                  if (!products.hasOwnProperty(product.Category_Name)) products[Category_Name] = newProduct;else products[Category_Name][Product_Name] = newProduct[Product_Name];\n                });\n              });\n\n            case 5:\n              _this2.setState({\n                products,\n                categories,\n                isMounted: true\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this2.onAdd = function () {\n      var _this2$state3 = _this2.state,\n          rowCount = _this2$state3.rowCount,\n          SelectedCategory = _this2$state3.SelectedCategory,\n          SelectedProducts = _this2$state3.SelectedProducts,\n          SelectedPrices = _this2$state3.SelectedPrices,\n          SelectedQty = _this2$state3.SelectedQty,\n          SelectedIds = _this2$state3.SelectedIds;\n      SelectedCategory[rowCount] = SelectedProducts[rowCount] = _this2.notSelected;\n      SelectedPrices[rowCount] = 0;\n      SelectedIds[rowCount] = \"\";\n      SelectedQty[rowCount] = 1;\n      rowCount += 1;\n\n      _this2.setState({\n        SelectedItems,\n        rowCount\n      });\n    };\n\n    _this2.categoryComponent = function (id) {\n      var _this2$state4 = _this2.state,\n          categories = _this2$state4.categories,\n          SelectedItems = _this2$state4.SelectedItems;\n      var index = id - 1;\n      return /*#__PURE__*/React.createElement(MDBSelect, {\n        key: id,\n        search: true,\n        style: {\n          margin: 0\n        },\n        options: categories,\n        getValue: function getValue(value) {\n          return _this2.onSelectedCategoryUpdate(index, value[0]);\n        },\n        selected: SelectedItems[index].category,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this2.onSelectedCategoryUpdate = function (index, selectedValue) {\n      // let {\n      //     isMounted,\n      //     discount,\n      //     SelectedItems\n      // } = this.state;\n      //\n      // if (isMounted\n      //     && typeof selectedValue != \"undefined\"\n      //     && selectedValue !== SelectedItems[index].category\n      // ) {\n      //     SelectedItems[index].category = selectedValue;\n      //     const subTotal = this.computeSubtotal();\n      //     const total = subTotal - discount;\n      //     this.setState({SelectedItems, subTotal, total});\n      // }\n      var _this2$state5 = _this2.state,\n          isMounted = _this2$state5.isMounted,\n          discount = _this2$state5.discount,\n          SelectedItems = _this2$state5.SelectedItems;\n\n      if (isMounted && typeof selectedValue != \"undefined\" && selectedValue !== SelectedItems[index].category) {\n        var items = SelectedItems;\n        var newItem = items[index];\n        newItem.category = selectedValue;\n        items[index] = newItem;\n\n        var subTotal = _this2.computeSubtotal();\n\n        var total = subTotal - discount;\n\n        _this2.setState({\n          SelectedItems: items,\n          subTotal,\n          total\n        });\n      }\n    };\n\n    _this2.productComponent = function (id) {\n      var _this2$state6 = _this2.state,\n          products = _this2$state6.products,\n          SelectedItems = _this2$state6.SelectedItems;\n      var index = id - 1;\n      var options;\n\n      if (products[SelectedItems[index].category]) {\n        options = lodash.map(products[SelectedItems[index].category], function (val) {\n          return val;\n        });\n      } else options = []; // console.log(options, SelectedItems)\n\n\n      return /*#__PURE__*/React.createElement(MDBSelect, {\n        key: id,\n        search: true,\n        style: {\n          margin: 0\n        },\n        getValue: function getValue(value) {\n          return _this2.onSelectedProductUpdate(index, value[0]);\n        },\n        options: options,\n        selected: SelectedItems[index][\"product\"],\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this2.onSelectedProductUpdate = function (index, selectedValue) {\n      var _this2$state7 = _this2.state,\n          isMounted = _this2$state7.isMounted,\n          SelectedItems = _this2$state7.SelectedItems,\n          products = _this2$state7.products,\n          discount = _this2$state7.discount;\n      console.log('jjdjk');\n\n      if (isMounted && selectedValue !== _this2.notSelected && typeof selectedValue != \"undefined\" && selectedValue !== SelectedItems[index].product // && typeof SelectedItems[index].category != 'undefined'\n      ) {\n          console.log(\"h\");\n          var items = SelectedItems;\n          var newItem = items[index];\n          newItem.product = selectedValue;\n          newItem.productId = products[newItem.category][newItem.product].id;\n          newItem.price = newItem.qty * products[newItem.category][newItem.product].price;\n\n          var subTotal = _this2.computeSubtotal();\n\n          var total = subTotal - discount;\n          items[index] = newItem;\n\n          _this2.setState({\n            SelectedItems: items,\n            subTotal,\n            total\n          });\n        }\n    };\n\n    _this2.quantityComponent = function (id) {\n      var _this2$state8 = _this2.state,\n          SelectedItems = _this2$state8.SelectedItems,\n          products = _this2$state8.products,\n          subTotal = _this2$state8.subTotal,\n          total = _this2$state8.total,\n          discount = _this2$state8.discount;\n      var index = id - 1;\n      return /*#__PURE__*/React.createElement(MDBInput, {\n        style: {\n          marginTop: \"-1.5rem\"\n        },\n        label: \"Quantity\",\n        group: true,\n        type: \"number\",\n        value: SelectedItems[index].qty,\n        validate: true,\n        onChange: function onChange(event) {\n          var _SelectedItems$index = SelectedItems[index],\n              product = _SelectedItems$index.product,\n              category = _SelectedItems$index.category;\n\n          if (event.target.value !== '' && typeof products[category] != \"undefined\" && typeof products[category][product] != 'undefined') {\n            var quantity = parseInt(event.target.value);\n            SelectedItems[index].price = products[category][product].price * quantity;\n            SelectedItems[index].qty = quantity;\n            subTotal = _this2.computeSubtotal();\n            total = subTotal - discount;\n\n            _this2.setState({\n              SelectedItems,\n              subTotal,\n              total\n            });\n          }\n        },\n        name: \"productName\",\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this2.computeSubtotal = function () {\n      var SelectedItems = _this2.state.SelectedItems;\n      var item,\n          subtotal = 0;\n\n      var _iterator = _createForOfIteratorHelper(SelectedItems),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          item = _step.value;\n          subtotal += item.price;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return subtotal;\n    };\n\n    return _this2;\n  }\n\n  _createClass(SalePage, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          rowCount = _this$state.rowCount,\n          SelectedItems = _this$state.SelectedItems,\n          subTotal = _this$state.subTotal,\n          total = _this$state.total,\n          discount = _this$state.discount;\n      return /*#__PURE__*/React.createElement(MDBContainer, {\n        style: {\n          paddingTop: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MDBRow, {\n        className: \"d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        size: \"12\",\n        xl: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MDBCard, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(MDBCardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(MDBCardHeader, {\n        className: \"form-header blue-gradient rounded\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(MDBIcon, {\n        icon: \"dollar-sign\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 41\n        }\n      }), \" Sale\")), /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"grey-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"4\",\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBInput, {\n        label: \"Customer Name\",\n        group: true,\n        type: \"text\",\n        validate: true,\n        onChange: function onChange(event) {\n          return _this3.setState({\n            customerName: event.target.value\n          });\n        },\n        name: \"productName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"1\",\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"2\",\n        className: \"mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBDatePicker, {\n        getValue: function getValue(value) {\n          return _this3.setState({\n            date: \"\".concat(value.getDate(), \"-\").concat(value.getMonth(), \"-\").concat(value.getYear() + 1900)\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"2\",\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBTimePicker, {\n        getValue: function getValue(value) {\n          return _this3.setState({\n            time: value\n          });\n        },\n        id: \"Time\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBBtn, {\n        color: \"red\",\n        onClick: this.onAdd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 49\n        }\n      }, \"Add\"))), /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBTable, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(MDBTableHead, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 61\n        }\n      }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 61\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 61\n        }\n      }, \"Product\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 61\n        }\n      }, \"Qty\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 61\n        }\n      }, \"Price\"))), /*#__PURE__*/React.createElement(MDBTableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 53\n        }\n      }, lodash.range(1, rowCount + 1).map(function (id) {\n        return /*#__PURE__*/React.createElement(Row, {\n          key: id,\n          id: id,\n          categoryComponent: _this3.categoryComponent,\n          productComponent: _this3.productComponent,\n          price: SelectedItems[id - 1].price,\n          quantity: _this3.quantityComponent,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 61\n          }\n        });\n      }))))), /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBInput, {\n        label: \"Subtotal \",\n        value: subTotal,\n        disabled: true,\n        type: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 49\n        }\n      }))), /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBInput, {\n        label: \"Discount \",\n        value: discount,\n        type: \"number\",\n        onChange: function onChange(val) {\n          var disc = 0;\n\n          if (val.target.value !== '') {\n            disc = parseInt(val.target.value);\n          }\n\n          var subTotal = _this3.computeSubtotal();\n\n          var total = subTotal - disc;\n\n          _this3.setState({\n            discount: disc,\n            subTotal,\n            total\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 49\n        }\n      }))), /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBInput, {\n        label: \"Total \",\n        value: total,\n        disabled: true,\n        type: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 49\n        }\n      }))), /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBBtn, {\n        onClick: this.onEnter,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 49\n        }\n      }, \" Enter Bill \")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 37\n        }\n      })))))));\n    }\n  }]);\n\n  return SalePage;\n}(Component);\n\nexport default SalePage;","map":{"version":3,"sources":["/home/hishsmtariq/ReactJsProjects/spare_part/src/spare_parts_components/pages/sale.jsx"],"names":["React","Component","lodash","MDBBtn","MDBCard","MDBCardBody","MDBCardHeader","MDBCol","MDBContainer","MDBIcon","MDBInput","MDBRow","MDBSelect","MDBTable","MDBTableBody","MDBTableHead","MDBLink","MDBDatePicker","MDBTimePicker","axios","getCurrentDate","Row","id","categoryComponent","productComponent","quantity","price","SalePage","notSelected","onEnter","state","SelectedIds","SelectedPrices","SelectedQty","SelectedProducts","rowCount","subTotal","discount","total","customerName","date","time","items","range","map","index","qty","sno","desc","rate","Product_id","data","itemsLength","length","console","log","props","history","push","pathname","isMounted","Items","SelectedCategory","categories","products","componentDidMount","post","then","response","category","newCategory","text","Category_Name","value","product","Product_Name","Product_Retail_Price","Product_Quantity","newProduct","parseInt","hasOwnProperty","setState","onAdd","SelectedItems","margin","onSelectedCategoryUpdate","selectedValue","newItem","computeSubtotal","options","val","onSelectedProductUpdate","productId","quantityComponent","marginTop","event","target","item","subtotal","paddingTop","getDate","getMonth","getYear","disc"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport lodash from \"lodash\"\nimport {\n    MDBBtn,\n    MDBCard,\n    MDBCardBody,\n    MDBCardHeader,\n    MDBCol,\n    MDBContainer,\n    MDBIcon,\n    MDBInput,\n    MDBRow,\n    MDBSelect,\n    MDBTable,\n    MDBTableBody,\n    MDBTableHead,\n    MDBLink,\n    MDBDatePicker,\n    MDBTimePicker\n} from \"mdbreact\";\nimport axios from \"axios\";\n\nimport getCurrentDate from \"../utils/get_current_date\"\n\nconst Row = ({id, categoryComponent, productComponent, quantity, price}) => {\n    return (\n        <tr>\n            <td>{id}</td>\n            <td>{categoryComponent(id)}</td>\n            <td>{productComponent(id)}</td>\n            <td>{quantity(id)}</td>\n            <td>{price}</td>\n        </tr>\n    );\n}\n\n\nclass SalePage extends Component {\n    notSelected = \"Chose your option\";\n\n    onEnter = () =>{\n        const {\n            SelectedIds,\n            SelectedPrices,\n            SelectedQty,\n            SelectedProducts,\n            rowCount,\n            subTotal,\n            discount,\n            total,\n            customerName,\n            date,\n            time,\n        } = this.state;\n        //    Data Format\n        // {\n        //  sno: index\n        //  dec: Product Name,\n        //  qty: 1 (Quantity)\n        //  rate: Price\n        // }\n        let items = lodash.range(rowCount).map(index => {\n            const qty = SelectedQty[index];\n            return {\n                sno: index, // Row No.\n                desc: SelectedProducts[index], // Product Name\n                qty: qty, // Product Quantity\n                rate: SelectedPrices[index] / qty, // Product 1 Qty Price,  \"\"SelectedItems[index].price\"\" Contains the total price of the item\n                Product_id: SelectedIds[index], // Product ID\n            }\n        })\n        const data = {\n            subTotal: subTotal,\n            discount: discount,\n            total: total,\n            items: items,\n            itemsLength: items.length,\n            customerName: customerName,\n            date: date,\n            time: time,\n        };\n        console.log(data);\n        // axios.post(\"http://localhost/spare_parts/sales.php\", data);\n        this.props.history.push({\n            pathname: \"/invoice\",\n            data: data\n        })\n\n    }\n\n    state = {\n        isMounted: false,\n        customerName: \"\",\n        date: \"\",\n        time: \"\",\n        rowCount: 1,\n        Items: this.onEnter,\n        SelectedCategory:[this.notSelected],\n        SelectedProducts:[this.notSelected],\n        SelectedPrices:[0],\n        SelectedQty:[1],\n        SelectedIds:[\"\"],\n        subTotal: 0,\n        discount: 0,\n        total: 0,\n        categories: [\n            // {\n            //     text: \"Category Name\",\n            //     value: \"Category Value\"\n            // },\n        ],\n        products: {\n            // Data Format\n            // Category_Name: {\n            //     Product_Name: {\n            //         text: \"Product Name\",\n            //         value: \"Product Value\"\n            //         price: \"Product Price\"\n            //         id: Product_id,\n            //         qty: Product_Quantity,\n            //     },\n            // },\n        },\n    };\n\n    componentDidMount = async () => {\n        let {categories, products} = this.state;\n        await axios\n            .post(\"http://localhost/spare_parts/show_category.php\")\n            .then((response) => {\n                    response.data.map((category) => {\n                        const newCategory = {text: category.Category_Name, value: category.Category_Name};\n                        categories = [...categories, newCategory];\n                    });\n                }\n            );\n        await axios\n            .post(\"http://localhost/spare_parts/allproducts.php\")\n            .then((response) => {\n                    response.data.map((product) => {\n\n                        const {Product_Name, Category_Name, Product_Retail_Price,id, Product_Quantity } = product;\n                        const newProduct = {}\n                        newProduct[Product_Name] = {\n                            text: Product_Name,\n                            value: Product_Name,\n                            price: parseInt(Product_Retail_Price),\n                            id:id,\n                            qty: Product_Quantity,\n\n                        };\n                        if (!products.hasOwnProperty(product.Category_Name))\n                            products[Category_Name] = newProduct;\n                        else\n                            products[Category_Name][Product_Name] = newProduct[Product_Name];\n                    });\n                }\n            );\n        this.setState({products, categories,isMounted: true})\n    };\n\n    onAdd = () => {\n        let {\n            rowCount,\n            SelectedCategory,\n            SelectedProducts,\n            SelectedPrices,\n            SelectedQty,\n            SelectedIds\n        } = this.state;\n\n        SelectedCategory[rowCount] = SelectedProducts[rowCount] = this.notSelected;\n        SelectedPrices[rowCount] = 0;\n        SelectedIds[rowCount] = \"\";\n        SelectedQty[rowCount] = 1;\n        rowCount += 1;\n        \n        this.setState({SelectedItems, rowCount});\n    };\n\n    categoryComponent = (id) => {\n        const {categories, SelectedItems} = this.state;\n        const index = id - 1;\n        return (\n            <MDBSelect\n                key={id}\n                search\n                style={{margin: 0}}\n                options={categories}\n                getValue={value => this.onSelectedCategoryUpdate(index, value[0])}\n                selected={SelectedItems[index].category}\n            />\n        );\n    };\n\n    onSelectedCategoryUpdate = (index, selectedValue) => {\n        // let {\n        //     isMounted,\n        //     discount,\n        //     SelectedItems\n        // } = this.state;\n        //\n        // if (isMounted\n        //     && typeof selectedValue != \"undefined\"\n        //     && selectedValue !== SelectedItems[index].category\n        // ) {\n        //     SelectedItems[index].category = selectedValue;\n        //     const subTotal = this.computeSubtotal();\n        //     const total = subTotal - discount;\n        //     this.setState({SelectedItems, subTotal, total});\n        // }\n        const {\n            isMounted,\n            discount,\n            SelectedItems\n        } = this.state;\n        if ( isMounted\n                && typeof selectedValue != \"undefined\"\n                && selectedValue !== SelectedItems[index].category\n            ) {\n            let items = SelectedItems;\n            let newItem = items[index];\n            newItem.category = selectedValue;\n            items[index] = newItem\n            const subTotal = this.computeSubtotal();\n            const total = subTotal - discount;\n            this.setState({SelectedItems: items, subTotal, total})\n        }\n    };\n\n    productComponent = (id) => {\n        const {products, SelectedItems} = this.state;\n        const index = id - 1;\n        let options;\n        if (products[SelectedItems[index].category]) {\n            options = lodash.map(products[SelectedItems[index].category], function (val) {\n                return val;\n            })\n        }\n        else options = []\n        // console.log(options, SelectedItems)\n        return (\n            <MDBSelect\n                key={id}\n                search\n                style={{margin: 0}}\n                getValue={value => this.onSelectedProductUpdate(index, value[0])}\n                options={options}\n                selected={SelectedItems[index][\"product\"]}\n            />\n        );\n    };\n\n    //let {\n    //             products,\n    //             isMounted,\n    //             discount,\n    //             SelectedItems\n    //         } = this.state;\n    //         const category = SelectedItems[index].category;\n    //\n    //         if (isMounted\n    //             && selectedValue !== this.notSelected\n    //             && typeof selectedValue != \"undefined\"\n    //             && selectedValue !== SelectedItems[index].product\n    //             && typeof category != 'undefined'\n    //         ) {\n    //             const {price, id} = products[category][selectedValue];\n    //             SelectedItems[index].price = price;\n    //             SelectedItems[index].productId = id;\n    //             SelectedItems[index].product = selectedValue;\n    //             const subTotal = this.computeSubtotal()\n    //             const total = subTotal - discount;\n    //             this.setState({SelectedItems, subTotal, total});\n    //         }\n\n    onSelectedProductUpdate = (index, selectedValue) => {\n        const {isMounted, SelectedItems, products, discount} = this.state;\n        console.log('jjdjk')\n        if (isMounted\n            && selectedValue !== this.notSelected\n            && typeof selectedValue != \"undefined\"\n            && selectedValue !== SelectedItems[index].product\n            // && typeof SelectedItems[index].category != 'undefined'\n            ) {\n            console.log(\"h\")\n            let items = SelectedItems;\n            let newItem = items[index];\n            newItem.product = selectedValue;\n            newItem.productId = products[newItem.category][newItem.product].id;\n            newItem.price = newItem.qty * products[newItem.category][newItem.product].price;\n            const subTotal = this.computeSubtotal();\n            const total = subTotal - discount;\n            items[index] = newItem;\n            this.setState({SelectedItems: items, subTotal, total})\n        }\n    };\n\n    quantityComponent = (id) =>{\n        let {\n            SelectedItems,\n            products,\n            subTotal,\n            total,\n            discount,\n        } = this.state;\n        const index = id - 1 ;\n\n        return(\n            <MDBInput\n                style={{marginTop:\"-1.5rem\"}}\n                label=\"Quantity\"\n                group\n                type=\"number\"\n                value={SelectedItems[index].qty}\n                validate\n                onChange={(event) => {\n\n                    const {product, category} = SelectedItems[index];\n\n                    if(event.target.value !== '' &&\n                        typeof products[category] != \"undefined\" &&\n                        typeof products[category][product] != 'undefined'\n                    ){\n                        const quantity = parseInt(event.target.value);\n                        SelectedItems[index].price = products[category][product].price * quantity\n                        SelectedItems[index].qty = quantity;\n                        subTotal = this.computeSubtotal();\n                        total = subTotal - discount;\n                        this.setState({SelectedItems, subTotal, total});\n                    }\n\n                }}\n                name=\"productName\"\n            />\n        )\n    };\n\n\n\n    computeSubtotal = () => {\n        const {SelectedItems} = this.state;\n        let item, subtotal = 0;\n        for (item of SelectedItems) subtotal += item.price;\n        return subtotal;\n    }\n\n\n\n\n\n    render() {\n        const {rowCount, SelectedItems, subTotal, total, discount} = this.state;\n        return (\n            <MDBContainer style={{paddingTop: 50}}>\n                <MDBRow className=\"d-flex justify-content-center\">\n                    <MDBCol size=\"12\" xl=\"12\">\n                        <MDBCard>\n                            <MDBCardBody>\n                                <MDBCardHeader className=\"form-header blue-gradient rounded\">\n                                    <h3 className=\"my-3\">\n                                        <MDBIcon icon=\"dollar-sign\"/> Sale\n                                    </h3>\n                                </MDBCardHeader>\n                                <form>\n                                    <div className=\"grey-text\">\n                                        {/*---------- Row 1 ----------*/}\n                                        <MDBRow>\n                                            <MDBCol sm=\"4\" className=\"mb-3\">\n                                                <MDBInput\n                                                    label=\"Customer Name\"\n                                                    group\n                                                    type=\"text\"\n                                                    validate\n                                                    onChange={(event) =>\n                                                        this.setState({customerName: event.target.value})\n                                                    }\n                                                    name=\"productName\"\n                                                />\n                                            </MDBCol>\n                                            <MDBCol sm=\"1\" className=\"mb-3\"/>\n                                            <MDBCol sm=\"2\" className=\"mt-2\">\n                                                <MDBDatePicker  getValue={value => this.setState(\n                                                    {date: `${value.getDate()}-${value.getMonth()}-${value.getYear()+1900}`}\n                                                )} />\n                                            </MDBCol>\n                                            <MDBCol sm=\"2\" className=\"mb-3\">\n                                                <MDBTimePicker  getValue={value => this.setState({time: value})}  id={\"Time\"}/>\n                                            </MDBCol>\n                                            <MDBCol sm=\"3\">\n                                                <MDBBtn color=\"red\" onClick={this.onAdd}>\n                                                    Add\n                                                </MDBBtn>\n                                            </MDBCol>\n                                        </MDBRow>\n                                        <MDBRow>\n                                            <MDBCol>\n                                                <MDBTable>\n                                                    <MDBTableHead>\n                                                        <tr>\n                                                            <th>#</th>\n                                                            <th>Category</th>\n                                                            <th>Product</th>\n                                                            <th>Qty</th>\n                                                            <th>Price</th>\n                                                        </tr>\n                                                    </MDBTableHead>\n                                                    <MDBTableBody>\n                                                        {lodash.range(1, rowCount + 1).map((id) =>\n                                                            <Row key={id}\n                                                                 id={id}\n                                                                 categoryComponent={this.categoryComponent}\n                                                                 productComponent={this.productComponent}\n                                                                 price={SelectedItems[id - 1].price}\n                                                                 quantity={this.quantityComponent}\n                                                            />\n                                                        )\n                                                        }\n                                                    </MDBTableBody>\n                                                </MDBTable>\n                                            </MDBCol>\n                                        </MDBRow>\n                                        <MDBRow>\n                                            <MDBCol sm=\"3\">\n                                                <MDBInput label=\"Subtotal \" value={subTotal} disabled type=\"number\" />\n                                            </MDBCol>\n                                        </MDBRow>\n                                        <MDBRow>\n                                            <MDBCol sm=\"3\">\n                                                <MDBInput label=\"Discount \" value={discount} type=\"number\"  onChange={val => {\n                                                    let disc = 0\n                                                    if (val.target.value !== '') {\n                                                        disc = parseInt(val.target.value);\n                                                    }\n                                                    const subTotal = this.computeSubtotal();\n                                                    const total = subTotal - disc;\n                                                    this.setState({discount: disc, subTotal, total})\n                                                }}/>\n                                            </MDBCol>\n                                        </MDBRow>\n                                        <MDBRow>\n                                            <MDBCol sm=\"3\">\n                                                <MDBInput label=\"Total \" value={total} disabled type=\"number\" />\n                                            </MDBCol>\n                                        </MDBRow>\n                                        <MDBRow>\n                                            <MDBCol sm=\"3\">\n                                                <MDBBtn onClick={this.onEnter}> Enter Bill </MDBBtn>\n                                            </MDBCol>\n                                        </MDBRow>\n                                    </div>\n                                    <div className=\"text-center mt-4\"/>\n                                </form>\n                            </MDBCardBody>\n                        </MDBCard>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        );\n    }\n}\n\nexport default SalePage;\n\n"]},"metadata":{},"sourceType":"module"}