{"ast":null,"code":"import _toConsumableArray from \"/home/hisham/Documents/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/hisham/Documents/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hisham/Documents/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/hisham/Documents/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/hisham/Documents/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/hisham/Documents/spare_part/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/hisham/Documents/spare_part/src/spare_parts_components/pages/sale.jsx\";\nimport React, { Component } from \"react\";\nimport lodash from \"lodash\";\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCardHeader, MDBCol, MDBContainer, MDBIcon, MDBInput, MDBRow, MDBSelect, MDBTable, MDBTableBody, MDBTableHead } from \"mdbreact\";\nimport axios from \"axios\";\nimport getCurrentDate from \"../utils/get_current_date\";\n\nvar SalePage = /*#__PURE__*/function (_Component) {\n  _inherits(SalePage, _Component);\n\n  var _super = _createSuper(SalePage);\n\n  function SalePage() {\n    var _this;\n\n    _classCallCheck(this, SalePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.notSelected = \"Chose your option\";\n    _this.state = {\n      CustomerName: \"\",\n      rowCount: 1,\n      SelectedCategories: [_this.notSelected],\n      SelectedProducts: [_this.notSelected],\n      SelectedProductPrices: [0],\n      categories: [// {\n        //     text: \"Category Name\",\n        //     value: \"Category Value\"\n        // },\n      ],\n      products: {// Data Format\n        // Category_Name: {\n        //     Product_Name: {\n        //         text: \"Product Name\",\n        //         value: \"Product Value\"\n        //         price: \"Product Price\"\n        //     },\n        // },\n      }\n    };\n\n    _this.componentDidMount = function () {\n      var _this$state = _this.state,\n          categories = _this$state.categories,\n          products = _this$state.products;\n      axios.post(\"http://localhost/spare_parts/show_category.php\").then(function (response) {\n        response.data.map(function (category) {\n          var newCategory = {\n            text: category.Category_Name,\n            value: category.Category_Name\n          };\n          categories = [].concat(_toConsumableArray(categories), [newCategory]);\n        });\n\n        _this.setState({\n          categories\n        });\n      });\n      axios.post(\"http://localhost/spare_parts/allproducts.php\").then(function (response) {\n        response.data.map(function (product) {\n          var Product_Name = product.Product_Name,\n              Category_Name = product.Category_Name,\n              Product_Retail_Price = product.Product_Retail_Price;\n          var newProduct = {};\n          newProduct[Product_Name] = {\n            text: Product_Name,\n            value: Product_Name,\n            price: Product_Retail_Price\n          };\n\n          if (!products.hasOwnProperty(product.Category_Name)) {\n            var _newProduct = {};\n            _newProduct[Product_Name] = {\n              text: Product_Name,\n              value: Product_Name,\n              price: Product_Retail_Price\n            };\n          }\n\n          ;\n          products[Category_Name] = newProduct; // else\n\n          products[Category_Name] = [].concat(_toConsumableArray(products[Category_Name]), [newProduct]);\n        });\n        console.log(products);\n\n        _this.setState({\n          products\n        });\n      });\n    };\n\n    _this.onAdd = function () {};\n\n    _this.categoryComponent = function (id) {\n      var index = id - 1;\n      return /*#__PURE__*/React.createElement(MDBSelect, {\n        search: true,\n        style: {\n          margin: 0\n        },\n        options: _this.state.categories,\n        selected: _this.state.SelectedCategories[index],\n        getValue: function getValue(selectedValue) {\n          return _this.onSelectedCategoryUpdate(id, selectedValue[0]);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.onSelectedCategoryUpdate = function (id, selectedValue) {\n      var index = id - 1;\n      var SelectedCategories = _this.state.SelectedCategories;\n      SelectedCategories[index] = selectedValue;\n\n      _this.setState({\n        SelectedCategories\n      });\n    };\n\n    _this.productComponent = function (id) {\n      var _this$state2 = _this.state,\n          products = _this$state2.products,\n          SelectedCategories = _this$state2.SelectedCategories,\n          SelectedProducts = _this$state2.SelectedProducts;\n      var index = id - 1;\n      return /*#__PURE__*/React.createElement(MDBSelect, {\n        search: true,\n        style: {\n          margin: 0\n        },\n        options: products[SelectedCategories[index]],\n        selected: SelectedProducts[index],\n        getValue: function getValue(selectedValue) {\n          return _this.onSelectedProductUpdate(id, selectedValue[0]);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.onSelectedProductUpdate = function (id, selectedValue) {\n      var _this$state3 = _this.state,\n          SelectedCategories = _this$state3.SelectedCategories,\n          products = _this$state3.products,\n          SelectedProductPrices = _this$state3.SelectedProductPrices;\n      var index = id - 1;\n      var category = SelectedCategories[index];\n      console.log(products);\n      var SelectedProducts = _this.state.SelectedProducts;\n      SelectedProducts[index] = selectedValue;\n\n      _this.setState({\n        SelectedProducts,\n        SelectedProductPrices\n      });\n    };\n\n    _this.rowComponent = function (id) {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }\n      }, id), /*#__PURE__*/React.createElement(\"td\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, _this.categoryComponent(id)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, _this.productComponent(id)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }\n      }, _this.state.SelectedProductPrices[id - 1]));\n    };\n\n    return _this;\n  }\n\n  _createClass(SalePage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var rowCount = this.state.rowCount;\n      return /*#__PURE__*/React.createElement(MDBContainer, {\n        style: {\n          paddingTop: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MDBRow, {\n        className: \"d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        size: \"12\",\n        xl: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MDBCard, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(MDBCardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(MDBCardHeader, {\n        className: \"form-header blue-gradient rounded\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(MDBIcon, {\n        icon: \"dollar-sign\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 41\n        }\n      }), \" Sale\")), /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"grey-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"4\",\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBInput, {\n        label: \"Customer Name\",\n        group: true,\n        type: \"text\",\n        validate: true,\n        onChange: function onChange(event) {\n          return _this2.setState({\n            CustomerName: event.target.value\n          });\n        },\n        name: \"productName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"1\",\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"4\",\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBInput, {\n        label: \"Date\",\n        disabled: true,\n        group: true,\n        type: \"text\",\n        value: getCurrentDate(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(MDBCol, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBBtn, {\n        color: \"red\",\n        onClick: null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 49\n        }\n      }, \"Add\"))), /*#__PURE__*/React.createElement(MDBRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MDBCol, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(MDBTable, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"caption\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 53\n        }\n      }, \"List of users\"), /*#__PURE__*/React.createElement(MDBTableHead, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 61\n        }\n      }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 61\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 61\n        }\n      }, \"Product\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 61\n        }\n      }, \"Price\"))), /*#__PURE__*/React.createElement(MDBTableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 53\n        }\n      }, lodash.range(1, rowCount + 1).map(function (id) {\n        return _this2.rowComponent(id);\n      })))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(MDBBtn, {\n        color: \"light-blue\",\n        className: \"mb-3\",\n        onClick: this.onAdd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 33\n        }\n      }, \"Add\"))))));\n    }\n  }]);\n\n  return SalePage;\n}(Component);\n\nexport default SalePage;","map":{"version":3,"sources":["/home/hisham/Documents/spare_part/src/spare_parts_components/pages/sale.jsx"],"names":["React","Component","lodash","MDBBtn","MDBCard","MDBCardBody","MDBCardHeader","MDBCol","MDBContainer","MDBIcon","MDBInput","MDBRow","MDBSelect","MDBTable","MDBTableBody","MDBTableHead","axios","getCurrentDate","SalePage","notSelected","state","CustomerName","rowCount","SelectedCategories","SelectedProducts","SelectedProductPrices","categories","products","componentDidMount","post","then","response","data","map","category","newCategory","text","Category_Name","value","setState","product","Product_Name","Product_Retail_Price","newProduct","price","hasOwnProperty","console","log","onAdd","categoryComponent","id","index","margin","selectedValue","onSelectedCategoryUpdate","productComponent","onSelectedProductUpdate","rowComponent","paddingTop","event","target","range"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport lodash from \"lodash\"\nimport {\n    MDBBtn,\n    MDBCard,\n    MDBCardBody,\n    MDBCardHeader,\n    MDBCol,\n    MDBContainer,\n    MDBIcon,\n    MDBInput,\n    MDBRow,\n    MDBSelect,\n    MDBTable,\n    MDBTableBody,\n    MDBTableHead,\n} from \"mdbreact\";\nimport axios from \"axios\";\n\nimport getCurrentDate from \"../utils/get_current_date\"\n\nclass SalePage extends Component {\n    notSelected = \"Chose your option\";\n    state = {\n        CustomerName: \"\",\n        rowCount: 1,\n        SelectedCategories: [this.notSelected],\n        SelectedProducts: [this.notSelected],\n        SelectedProductPrices: [0],\n        categories: [\n            // {\n            //     text: \"Category Name\",\n            //     value: \"Category Value\"\n            // },\n        ],\n        products: {\n            // Data Format\n            // Category_Name: {\n            //     Product_Name: {\n            //         text: \"Product Name\",\n            //         value: \"Product Value\"\n            //         price: \"Product Price\"\n            //     },\n            // },\n        },\n    };\n\n    componentDidMount =  () =>  {\n        let {categories, products} = this.state;\n        axios\n            .post(\"http://localhost/spare_parts/show_category.php\")\n            .then((response) => {\n                    response.data.map((category) => {\n                        const newCategory = {text: category.Category_Name, value: category.Category_Name};\n                        categories = [...categories, newCategory];\n                    });\n                    this.setState({categories})\n                }\n            );\n        axios\n            .post(\"http://localhost/spare_parts/allproducts.php\")\n            .then((response) => {\n                    response.data.map((product) => {\n                        const { Product_Name, Category_Name, Product_Retail_Price } = product;\n                        const newProduct = {}\n                        newProduct[Product_Name] = {\n                            text: Product_Name,\n                            value: Product_Name,\n                            price: Product_Retail_Price\n                        };\n                        if (!products.hasOwnProperty(product.Category_Name)){\n                            const newProduct = {}\n                            newProduct[Product_Name] = {\n                            text: Product_Name,\n                            value: Product_Name,\n                            price: Product_Retail_Price\n                            }\n                        };\n                            products[Category_Name] = newProduct;\n                        // else\n                            products[Category_Name] = [...products[Category_Name],newProduct];\n                    });\n                    console.log(products)\n                    this.setState({ products })\n                }\n            );\n\n    };\n\n    onAdd = () => {\n    };\n\n    categoryComponent = (id) => {\n        const index = id - 1;\n        return (\n            <MDBSelect\n                search\n                style={{margin: 0}}\n                options={this.state.categories}\n                selected={this.state.SelectedCategories[index]}\n                getValue={(selectedValue) => this.onSelectedCategoryUpdate(id, selectedValue[0])}\n            />\n        );\n    };\n\n    onSelectedCategoryUpdate = (id, selectedValue) => {\n        const index = id - 1;\n        let {SelectedCategories} = this.state;\n        SelectedCategories[index] = selectedValue;\n        this.setState({SelectedCategories});\n    };\n\n    productComponent = (id) => {\n        const {products, SelectedCategories, SelectedProducts} = this.state;\n        const index = id - 1;\n        return (\n            <MDBSelect\n                search\n                style={{margin: 0}}\n                options={products[SelectedCategories[index]]}\n                selected={SelectedProducts[index]}\n                getValue={(selectedValue) => this.onSelectedProductUpdate(id, selectedValue[0])}\n            />\n        );\n    };\n\n    onSelectedProductUpdate = (id, selectedValue) => {\n        let { SelectedCategories, products, SelectedProductPrices } = this.state;\n        const index = id - 1;\n        const category = SelectedCategories[index];\n        console.log(products);\n        let {SelectedProducts} = this.state;\n        SelectedProducts[index] = selectedValue;\n        this.setState({SelectedProducts, SelectedProductPrices});\n    };\n\n    rowComponent = (id) =>{\n        return (\n            <tr>\n                <td>{id}</td>\n                <td>{this.categoryComponent(id)}</td>\n                <td>{this.productComponent(id)}</td>\n                <td>{this.state.SelectedProductPrices[id-1]}</td>\n            </tr>\n        );\n    }\n\n    render() {\n        const { rowCount } = this.state;\n        return (\n            <MDBContainer style={{paddingTop: 50}}>\n                <MDBRow className=\"d-flex justify-content-center\">\n                    <MDBCol size=\"12\" xl=\"12\">\n                        <MDBCard>\n                            <MDBCardBody>\n                                <MDBCardHeader className=\"form-header blue-gradient rounded\">\n                                    <h3 className=\"my-3\">\n                                        <MDBIcon icon=\"dollar-sign\"/> Sale\n                                    </h3>\n                                </MDBCardHeader>\n                                <form>\n                                    <div className=\"grey-text\">\n                                        {/*---------- Row 1 ----------*/}\n                                        <MDBRow>\n                                            <MDBCol sm=\"4\" className=\"mb-3\">\n                                                <MDBInput\n                                                    label=\"Customer Name\"\n                                                    group\n                                                    type=\"text\"\n                                                    validate\n                                                    onChange={(event) =>\n                                                        this.setState({CustomerName: event.target.value})\n                                                    }\n                                                    name=\"productName\"\n                                                />\n                                            </MDBCol>\n                                            <MDBCol sm=\"1\" className=\"mb-3\"/>\n                                            <MDBCol sm=\"4\" className=\"mb-3\">\n                                                <MDBInput\n                                                    label=\"Date\"\n                                                    disabled={true}\n                                                    group\n                                                    type=\"text\"\n                                                    value={getCurrentDate()}\n                                                />\n                                            </MDBCol>\n                                            <MDBCol sm=\"3\">\n                                                <MDBBtn color=\"red\" onClick={null}>\n                                                    Add\n                                                </MDBBtn>\n                                            </MDBCol>\n                                        </MDBRow>\n                                        <MDBRow>\n                                            <MDBCol>\n                                                <MDBTable>\n                                                    <caption>List of users</caption>\n                                                    <MDBTableHead>\n                                                        <tr>\n                                                            <th>#</th>\n                                                            <th>Category</th>\n                                                            <th>Product</th>\n                                                            <th>Price</th>\n                                                        </tr>\n                                                    </MDBTableHead>\n                                                    <MDBTableBody>\n                                                        {lodash.range(1, rowCount+1).map((id) => this.rowComponent(id))}\n                                                    </MDBTableBody>\n                                                </MDBTable>\n                                            </MDBCol>\n                                        </MDBRow>\n                                    </div>\n                                    <div className=\"text-center mt-4\"/>\n                                </form>\n                                <MDBBtn\n                                    color=\"light-blue\"\n                                    className=\"mb-3\"\n                                    onClick={this.onAdd}\n                                >\n                                    Add\n                                </MDBBtn>\n                            </MDBCardBody>\n                        </MDBCard>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        );\n    }\n}\n\nexport default SalePage;\n"]},"metadata":{},"sourceType":"module"}